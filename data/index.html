<!DOCTYPE html>
<html>

<head>
    <title>PSI3541 - Sistemas Embarcados Distribuidos (2025)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="https://www.espressif.com/sites/all/themes/espressif/favicon.ico" type="image/vnd.microsoft.icon">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
</head>

<body>
    <header>
        <h1>PSI3541 - Sistemas Embarcados Distribuidos (2025)</h1>
        <h3>Aluno: Pedro Alves Munhoz - 11257053</h3>
    </header>


    <div class="content">
        <!-- First Row: LED and DHT Cards -->
        <div class="row">
            <!-- LED Control Card -->
            <div class="card" id="led-card">
                <!-- LED Control Menu -->
                <div id="led-menu">
                    <p><i class="fas fa-lightbulb fa-2x" style="color:#c81919;"></i> <strong>GPIO2</strong></p>
                    <p>GPIO state: <strong id="gpio-state">UNKNOWN</strong></p>
                    <p>
                        <button class="button" onclick="ledSet(1)">ON</button>
                        <button class="button button2" onclick="ledSet(0)">OFF</button>
                    </p>
                    <p>
                        <button class="button button-green" onclick="activateBlink()">Activate Blink</button>
                    </p>
                </div>

                <!-- BLINK Control Menu -->
                <div id="blink-menu" style="display: none;">
                    <p><i class="fas fa-lightbulb fa-2x" style="color:#c81919;"></i> <strong>GPIO2</strong></p>
                    <p>GPIO state: <strong id="gpio-state">BLINKING</strong></p>
                    <p>
                        Frequency (Hz): <input type="number" id="blink-frequency" min="1" max="10" value="1" style="width: 60px;">
                        <button class="button" onclick="setBlinkFrequency()">Save Frequency</button>
                    </p>
                    <p>
                        <button class="button button-red" onclick="deactivateBlink()">Deactivate Blink</button>
                    </p>
                </div>
            </div>

            <!-- Temperature and Humidity Card -->
            <div class="card">
                <p><i class="fas fa-thermometer-half fa-2x" style="color:#ff5733;"></i> <strong>Temperature & Humidity</strong></p>
                <p>Temperature: <strong id="temperature">-- C</strong></p>
                <p>Humidity: <strong id="humidity">-- %</strong></p>
            </div>
        </div>

        <!-- Second Row: Temperature and Humidity Graphs -->
        <div class="row">
            <div class="card full-width">
                <h3>Temperature and Humidity Graph</h3>
                <canvas id="dht-chart" width="400" height="200"></canvas>
            </div>
        </div>

        <!-- Third Row: MQTT Publish Tasks -->
        <div class="row">
            <div class="card full-width" id="mqtt-tasks-card">
                <h3>MQTT Publish Tasks</h3>
                <table id="mqtt-tasks-table" style="width:100%; text-align:center;">
                    <thead>
                        <tr>
                            <th>Task</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Rows will be filled by JS -->
                    </tbody>
                </table>
            </div>
        </div>

    </div>



    <script src="main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js" type="application/javascript"></script>
</body>

</html>